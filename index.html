<!DOCTYPE html>
<html>
<head>
  <title>Weather</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f0f8ff; }
    .weather-box { border: 1px solid #ccc; padding: 15px; border-radius: 8px; background: #fff; max-width: 400px; }
  </style>
</head>
<body>
  <div class="weather-box" id="weather">Loading...</div>

  <script>
    function getWindDirection(deg) {
      const directions = ['North', 'NE', 'East', 'SE', 'South', 'SW', 'West', 'NW'];
      return directions[Math.round(deg / 45) % 8];
    }

    function formatTime(timestamp) {
      const date = new Date(timestamp * 1000);
      return date.toLocaleTimeString('en-PH', { hour: '2-digit', minute: '2-digit' });
    }

    fetch("https://api.openweathermap.org/data/2.5/weather?q=Manila,PH&appid=b628f02897fc7f24a3175118197ab994&units=metric")
      .then(response => response.json())
      .then(data => {
        const weatherHTML = `
          <h2>ğŸŒ¥ï¸ Weather Update â€“ ${data.name}, ${data.sys.country}</h2>
          <p><strong>Temperature:</strong> ${data.main.temp}â€¯Â°C</p>
          <p><strong>Feels Like:</strong> ${data.main.feels_like}â€¯Â°C</p>
          <p><strong>Humidity:</strong> ${data.main.humidity}%</p>
          <p><strong>Wind:</strong> ${data.wind.speed}â€¯m/s from ${getWindDirection(data.wind.deg)}</p>
          <p><strong>Cloud Cover:</strong> ${data.clouds.all}% (${data.weather[0].description})</p>
          <p><strong>Visibility:</strong> ${data.visibility / 1000}â€¯km</p>
          <p><strong>Pressure:</strong> ${data.main.pressure}â€¯hPa</p>
          <p><strong>Sunrise:</strong> ${formatTime(data.sys.sunrise)}</p>
          <p><strong>Sunset:</strong> ${formatTime(data.sys.sunset)}</p>
        `;
        document.getElementById("weather").innerHTML = weatherHTML;
      });
  </script>
</body>
</html>
